<template>
  	<header class="header">
    	<nav class="nav-container">
      	<!-- Logoå’Œä¸»é¢˜åˆ‡æ¢çš„å®¹å™¨ -->
      		<div class="logo-section">
        		<!-- Logo -->
        		<div class="logo">FRPS-WEB</div>
        
        		<!-- ä¸»é¢˜åˆ‡æ¢ -->

			
        		<div class="theme-toggle-out" @click="toggleTheme">
					<button class="theme-toggle">
						<span v-if="isDark">ğŸŒ™</span>
          				<span v-else>ğŸŒ</span>
					</button>
        		</div>
      		</div>
      
      		<!-- å¯¼èˆªé“¾æ¥åˆ—è¡¨ -->
      		<ul class="nav-links">
        		<li><a href="/home">é¦–é¡µ</a></li>
        		<li><a href="/about">æ§åˆ¶å°</a></li>
				<div class="user_out">
					<a href="/user" class = "user">
						<div class="gg-boy"></div>
					</a>
					<a href="#logout" class="logout">ç™»å‡º</a>
				</div>
      		</ul>
    	</nav>
  	</header>
</template>

<script setup>
import { ref, onMounted } from 'vue'

//
//falseä¸ºæµ…è‰²ä¸»é¢˜
const isDark = ref(false)

//åˆ‡æ¢ä¸»é¢˜
const toggleTheme = () => {
  isDark.value = !isDark.value
  
  if (isDark.value) {
    //æ·»åŠ dark-themeç±»åˆ°body
    document.body.classList.add('dark-theme')
    //ä¿å­˜åˆ°æœ¬åœ°
    localStorage.setItem('theme', 'dark')
  } else {
    //ç§»é™¤dark-themeç±»
    document.body.classList.remove('dark-theme')
    //ä¿å­˜åˆ°æœ¬åœ°
    localStorage.setItem('theme', 'light')
  }
}

//ç»„ä»¶æŒ‚è½½æ—¶æ‰§è¡Œçš„å‡½æ•°
onMounted(() => {
  //è·å–ä¿å­˜çš„åå¥½
  const savedTheme = localStorage.getItem('theme')
  
  if (savedTheme === 'dark') {
    //è®¾ç½®isDarkä¸ºtrue
    isDark.value = true
    document.body.classList.add('dark-theme')
  }
})
</script>

<style scoped>
.header {
  background-color: #eceaea;/*èƒŒæ™¯é¢œè‰²*/
  box-shadow: 0 3px 4px rgba(0, 0, 0, 0.479); /*é˜´å½±*/
  position: fixed; /*å§‹ç»ˆåœ¨é¡µé¢é¡¶éƒ¨*/
  width: 100vw; 
  left:0;
  top: 0;
  z-index: 1000; /*å±‚çº§è®¾ç½®*/
  transition: all 0.3s ease; /*æ·»åŠ è¿‡æ¸¡åŠ¨ç”»*/
}

/*å¯¼èˆªå®¹å™¨*/
.nav-container {
  margin: 0 auto; /*å±…ä¸­*/
  padding: 1rem; /*è¾¹è·*/
  display: flex; /*ä½¿ç”¨å¼¹æ€§å¸ƒå±€*/
  justify-content: space-between; /*ä¸¤ç«¯å¯¹é½*/
  align-items: center; /*å‚ç›´å±…ä¸­å¯¹é½*/
}

/*LogoåŒºåŸŸ*/
.logo-section {
  display: flex; 
  align-items: center; 
  gap: 1rem; 
}

/*Logoå­—ä½“*/
.logo {
  font-size: 1rem; /*å¤§å°*/
  font-weight: bold; /*åŠ ç²—*/
  color: #ff0000; /*é¢œè‰²*/
}

/*å¯¼èˆªåˆ—è¡¨*/
.nav-links {
  display: flex; /*ä½¿ç”¨å¼¹æ€§å¸ƒå±€*/
  list-style: none; /*ç§»é™¤åˆ—è¡¨é»˜è®¤æ ·å¼*/
  align-items: center;
  gap: 2rem; /*é—´è·*/
  margin: 0; /*å¤–è¾¹è·*/
  padding: 0; /*å†…è¾¹è·*/
}

/*å¯¼èˆªé“¾æ¥æ ·å¼*/
.nav-links a {
  text-decoration: none; /*ç§»é™¤ä¸‹åˆ’çº¿*/
  color: #000000; /*å­—ä½“é¢œè‰²*/
  font-weight: 500; /*å­—ä½“ç²—ç»†*/
  transition: color 0.3s ease; /*é¢œè‰²å˜åŒ–çš„è¿‡æ¸¡åŠ¨ç”»*/
}

/*æ‚¬åœæ•ˆæœ*/
.nav-links a:hover {
  color: #ff0000; /*æ‚¬åœé¢œè‰²*/
}

/*ä¸»é¢˜åˆ‡æ¢*/
.theme-toggle-out {
  background: none; /*æ— èƒŒæ™¯è‰²*/
  border: 1px solid #333; /*è¾¹æ¡†æ ·å¼*/
  box-shadow: 2px 3px 4px rgba(0, 0, 0, 0.671); /*é˜´å½±*/
  border-radius: 50px; /*åœ†å½¢æŒ‰é’®*/
  padding:0px 25px;
  width: 0%;
  height: 30px;
  cursor: pointer; /*é¼ æ ‡æ‚¬åœæ—¶æ˜¾ç¤ºæ‰‹å‹å…‰æ ‡*/
  display: flex;
  align-items: center;
  justify-content: flex-end;
  transition: all 0.3s ease; /*è¿‡æ¸¡åŠ¨ç”»*/
  flex-shrink: 0; /*é˜²æ­¢è¢«å‹ç¼©*/
}


.theme-toggle {
  background: none; /*æ— èƒŒæ™¯è‰²*/
  border: 0px solid #333; /*è¾¹æ¡†æ ·å¼*/
  box-shadow: 3px 0px 4px rgba(0, 0, 0, 0.671); /*é˜´å½±*/
  border-radius: 50%; /*åœ†å½¢æŒ‰é’®*/
  width: 25px; /*å®½åº¦*/
  height: 25px; /*é«˜åº¦*/
  cursor: pointer; /*é¼ æ ‡æ‚¬åœæ—¶æ˜¾ç¤ºæ‰‹å‹å…‰æ ‡*/
  font-size: 1.3rem; /*å†…å®¹å¤§å°*/
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.3s ease; /* è¿‡æ¸¡åŠ¨ç”» */
}

.user_out {
  background: none; /*æ— èƒŒæ™¯è‰²*/
  border: 1px solid #333; /*è¾¹æ¡†æ ·å¼*/
  border-radius: 50px; /*åœ†å½¢æŒ‰é’®*/
  width: 100px; /*å®½åº¦*/
  height: 50px; /*é«˜åº¦*/
  display: flex; /*ä½¿ç”¨å¼¹æ€§å¸ƒå±€*/
  align-items: center;
  justify-content: space-between;
  list-style: none; /*ç§»é™¤åˆ—è¡¨é»˜è®¤æ ·å¼*/
  padding-right: 5px
}

.user {
  background: rgb(255, 95, 122); /*æ— èƒŒæ™¯è‰²*/
  border: 1px solid #333; /*è¾¹æ¡†æ ·å¼*/
  border-radius: 50px; /*åœ†å½¢æŒ‰é’®*/
  width: 50px; /*å®½åº¦*/
  height: 50px; /*é«˜åº¦*/
  display: flex; /*ä½¿ç”¨å¼¹æ€§å¸ƒå±€*/
  align-items: center;
  justify-content: center;
  list-style: none; /*ç§»é™¤åˆ—è¡¨é»˜è®¤æ ·å¼*/
}

.gg-boy,
.gg-boy::after,
.gg-boy::before {
  display: block;
  box-sizing: border-box;
  border-radius: 42px;
}
.gg-boy {
  position: relative;
  width: 20px;
  height: 20px;
  transform: scale(2);
  overflow: hidden;
  box-shadow: inset 0 0 0 2px #000000;
}
.gg-boy::after,
.gg-boy::before {
  content: "";
  position: absolute;
  width: 2px;
  height: 2px;
  background: currentColor;
  box-shadow: 6px 0 0;
  left: 6px;
  top: 10px;
}
.gg-boy::after {
  width: 20px;
  height: 20px;
  top: -13px;
  right: -12px;
}

.user_out .logout {
  color: #00a6ac;
}

.user_out:hover .logout {
  color: #ff0000;
}

.user_out .avatar {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

/*å°å±å¹•*/
/*
@media (max-width: 768px) {
  .nav-container {
    flex-direction: column;
    gap: 1rem;
	padding: 1rem;
  }
  .logo-section {
    align-self: flex-start;
  }
  .nav-links {
    gap: 1rem;
  }
}*/
</style>

<!-- å…¨å±€æ ·å¼ä¸»é¢˜åˆ‡æ¢ -->
<style>
/*æš—è‰²ä¸»é¢˜æ ·å¼*/
.dark-theme {
  background-color: #1a1a1a; /*èƒŒæ™¯*/
  color: #ffffff; /*æ–‡å­—*/
}

.dark-theme .header {
  background-color: #2d2d2d;
  box-shadow: 0 2px 4px rgba(255,255,255,0.1);
}

.dark-theme .logo {
  color: #00a6ac;
}

.dark-theme .nav-links a {
  color: #ffffff;
}

.dark-theme .nav-links a:hover {
  color: #00a6ac; /*æ‚¬åœé¢œè‰²*/
}

.dark-theme .theme-toggle-out {
  border: 1px solid #ffffff; /*è¾¹æ¡†æ ·å¼*/
  justify-content: flex-start;
  box-shadow: -2px 3px 3px rgba(255, 255, 255, 0.5); /*é˜´å½±*/
}

.dark-theme .theme-toggle {
  border-color: #ffffff; /* ç™½è‰²è¾¹æ¡† */
  color: #ffffff; /* ç™½è‰²å›¾æ ‡ */
  box-shadow: -2px 3px 4px rgb(255, 255, 255); /*é˜´å½±*/
}

.dark-theme .user_out {
  border: 1px solid #ffffff; /*è¾¹æ¡†æ ·å¼*/
}

.dark-theme .user {
  background: rgb(80, 17, 133);
  border: 1px solid #ffffff; /*è¾¹æ¡†æ ·å¼*/
}

.dark-theme .gg-boy {
  box-shadow: inset 0 0 0 2px #ffffff; /* å¤œé—´æ¨¡å¼ä¸‹boyçš„é¢œè‰²ä¸ºç™½è‰² */
}

.dark-theme .user_out .logout {
  color: #ff0000;
}

.dark-theme .user_out:hover .logout {
  color: #00a6ac;
}

</style>